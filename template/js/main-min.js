function task_handler(t,a,e,i,o,l,d){switch(event.preventDefault(),$(".dropdown").removeClass("is-active"),autofocus="client",l=parseFloat(l)?l:15,t){case"continue":header='<span class="icon is-size-6"><i class="far fa-clone"></i></span> Continue Task',o=get_current_datetime(),autofocus="description";break;case"duplicate":header='<span class="icon is-size-6"><i class="fas fa-copy"></i></span> Duplicate Task',o=get_current_datetime(),autofocus="description";break;case"add":header='<span class="icon is-size-6"><i class="fas fa-plus"></i></span> Add New Task',o=get_current_datetime(),autofocus="client";break;case"edit":header='<span class="icon is-size-6"><i class="fas fa-edit"></i></span> Edit Task',autofocus="description"}$("#modal_update .modal-card-title").html(header),$("#modal_update .modal_datetime").val(o),$("#modal_update .modal_duration").val(l),$("#modal_update .modal_client").val(a),$("#modal_update .modal_project").val(e),$("#modal_update .modal_description").val(i),$("#modal_update .modal_path").val(d),$("#modal_update .modal_"+autofocus).attr("autofocus","autofocus").focus(),$("#modal_update").addClass("is-active"),$("html").addClass("is-clipped"),initpicker("#modal_update")}function get_current_datetime(){var t=new Date;return t.getFullYear()+("0"+(t.getMonth()+1)).slice(-2)+("0"+t.getDate()).slice(-2)+("00"+t.getHours()).slice(-2)+("00"+t.getMinutes()).slice(-2)}function initpicker(t){$(t+" .modal_datetime").daterangepicker({singleDatePicker:!0,timePicker:!0,timePickerIncrement:1,locale:{format:"YYYY-MM-DD hh:mm A",applyLabel:"Apply",cancelLabel:"Cancel",daysOfWeek:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"]},autoUpdateInput:!0})}function timeConvert(t){var a=t/60,e=Math.floor(a),i=60*(a-e);return e+"h "+Math.round(i)+"m"}function recalculate_costs(){var t=0,a=0,e=0;$(".highlighted").each((function(i){var o=$(this).children().find(".task_value").attr("data-costraw"),l=$(this).children().find(".task_duration").text();t+=parseFloat(o),a+=parseFloat(l),e=i+1})),t=t.toFixed(2),$("#total_selected").text(e),$("#total_mins").text(timeConvert(a)),$("#total_cost").text(t),0==t?$("#tally").fadeOut("fast"):$("#tally").fadeIn("fast")}$(document).ready((function(){$(document).keyup((function(t){27===t.keyCode&&($(".modal").removeClass("is-active"),$("html").removeClass("is-clipped"))})),$(".delete, .modal-background").click((function(){$(".modal").removeClass("is-active"),$("html").removeClass("is-clipped")})),initpicker("#form_add")})),$(".modal_edit").click((function(t){t.preventDefault();var a=$(this).parents(".task_container"),e=a.attr("data-path"),i=a.attr("data-datetime"),o=a.attr("data-duration");task_handler("edit",a.attr("data-client"),a.attr("data-project"),a.attr("data-description"),i,o,e)})),$(".modal_duplicate").click((function(t){t.preventDefault();var a=$(this).parents(".task_container"),e=a.attr("data-duration");task_handler("duplicate",a.attr("data-client"),a.attr("data-project"),a.attr("data-description"),null,e,null)})),$(".modal_delete").click((function(t){t.preventDefault();var a=$(this).parents(".task_container").attr("data-path");$("#modal_delete .modal-card-title").html('<span class="icon is-size-6"><i class="fas fa-trash"></i></span> Delete Task'),$("#modal_delete .modal_path").val(a),$("#modal_delete .modal_delete_path").html(a),$("#modal_delete").addClass("is-active")})),$(".dropdown button").click((function(t){t.preventDefault(),dropdown=$(this).parents(".dropdown"),width=$(this).parents(".dropdown-container").width(),$(this).parents(".dropdown-container").find(".dropdown-content").width(width),$(".dropdown").not(dropdown).removeClass("is-active"),dropdown.toggleClass("is-active")})),$(".dropdown-selection").click((function(t){t.preventDefault();var a=$(this).attr("data-value"),e=$(this).parents(".dropdown-container").find(".input");$(e).val(a),$(".dropdown").removeClass("is-active")})),$(".day_header").click((function(t){t.preventDefault(),toggledate=$(this).attr("data-date"),$("."+toggledate+" > .task_container").toggleClass("highlighted"),recalculate_costs()})),$(".table_col:not(.task_col_4)").click((function(t){t.preventDefault(),$(this).parents(".task_container").toggleClass("highlighted"),recalculate_costs()})),$("#floating_bar").click((function(t){t.preventDefault(),$(".task_container").removeClass("highlighted"),recalculate_costs()}));